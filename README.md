# 中医感冒诊断专家系统 (Web版)

## 项目简介

这是一个基于中医理论的感冒分型诊断专家系统的现代化Web版本，采用React + TypeScript + Vite技术栈开发。系统能够根据患者症状、舌象、脉象等信息，智能诊断感冒类型（风寒感冒、风热感冒、暑湿感冒等），并提供相应的治疗建议。

## 🌟 主要特性

### 核心功能
- **智能预筛查**: 6个核心问题的预判断模块，提供风险分级评估
- **症状选择**: 多维度症状选择界面，支持症状、舌象、脉象输入
- **智能诊断**: 基于中医理论的诊断引擎，提供置信度评估
- **治疗建议**: 个性化的方剂推荐和治疗原则
- **用户体验**: 现代化UI设计，渐进式交互流程

### 技术特性
- **现代化技术栈**: React 18 + TypeScript + Vite
- **组件化设计**: 基于shadcn/ui的高质量UI组件
- **响应式布局**: 支持多设备访问
- **状态管理**: Context API进行全局状态管理
- **错误边界**: 完善的错误处理机制

## 🏗️ 项目结构

```
src/
├── components/          # 组件目录
│   ├── Background.tsx   # 背景组件
│   ├── DiagnosisResult.tsx  # 诊断结果展示
│   ├── ErrorBoundary.tsx    # 错误边界
│   ├── Header.tsx       # 页面头部
│   ├── PreScreening.tsx # 预筛查模块
│   ├── SymptomSelector.tsx  # 症状选择器
│   └── ui/             # UI基础组件库
├── context/            # 状态管理
│   └── DiagnosisContext.tsx
├── hooks/              # 自定义Hook
├── lib/                # 工具库
├── types/              # TypeScript类型定义
├── utils/              # 工具函数
│   ├── diagnosisEngine.ts    # 诊断引擎
│   └── preScreeningEngine.ts # 预筛查引擎
└── main.tsx           # 应用入口
```

## 🚀 快速开始

### 环境要求
- Node.js >= 16.0.0
- pnpm (推荐) 或 npm

### 安装依赖
```bash
# 使用pnpm (推荐)
pnpm install

# 或使用npm
npm install
```

### 开发模式
```bash
# 启动开发服务器
pnpm dev

# 或
npm run dev
```

### 构建生产版本
```bash
# 构建项目
pnpm build

# 或
npm run build
```

### 预览生产版本
```bash
# 预览构建结果
pnpm preview

# 或
npm run preview
```

## 📋 使用流程

### 1. 预问题判断
- 回答6个核心预筛查问题
- 系统进行风险评估和初步建议
- 决定是否继续详细诊断

### 2. 症状选择
- 选择相关的感冒症状
- 观察并选择舌象特征
- 感知并选择脉象特征

### 3. 诊断结果
- 查看诊断的感冒证型
- 了解诊断置信度
- 获取治疗建议和方剂推荐

## 🔧 技术栈

### 前端框架
- **React 18**: 现代化前端框架
- **TypeScript**: 类型安全的JavaScript
- **Vite**: 快速的构建工具

### UI组件
- **Tailwind CSS**: 实用优先的CSS框架
- **shadcn/ui**: 高质量的React组件库
- **Radix UI**: 无障碍的原始组件
- **Lucide React**: 现代化图标库

### 开发工具
- **ESLint**: 代码质量检查
- **PostCSS**: CSS后处理器
- **Class Variance Authority**: 组件变体管理

## 🎯 核心算法

### 诊断引擎
- **权重计算**: 基于症状权重的得分计算
- **阈值判断**: 达到诊断阈值的证型筛选
- **置信度评估**: 基于匹配度的可信度计算
- **结果排序**: 按置信度降序排列诊断结果

### 预筛查引擎
- **风险分级**: 低、中、高三级风险评估
- **智能建议**: 基于回答的个性化建议
- **流程控制**: 根据风险级别决定后续流程

## 📊 系统升级

相比初版Python系统，本Web版本新增了：

- ✅ **预问题判断模块**: 提升诊断准确性
- ✅ **现代化Web界面**: 更好的用户体验
- ✅ **响应式设计**: 支持移动端访问
- ✅ **组件化架构**: 更好的代码维护性
- ✅ **TypeScript支持**: 更好的类型安全

## 🛠️ 开发指南

### 添加新症状
1. 在 `src/types/index.ts` 中定义症状类型
2. 在诊断引擎中添加相应的权重规则
3. 在UI组件中添加症状选择选项

### 修改诊断规则
1. 编辑 `src/utils/diagnosisEngine.ts`
2. 调整权重计算和阈值设置
3. 测试诊断准确性

### 自定义UI主题
1. 修改 `tailwind.config.js` 配置
2. 更新CSS变量定义
3. 调整组件样式

## 📝 注意事项

1. **医疗免责声明**: 本系统仅作为辅助诊断工具，不能替代专业医生的诊断和治疗
2. **准确性依赖**: 诊断结果的准确性取决于输入症状的准确性和完整性
3. **及时就医**: 对于严重症状，请及时寻求专业医疗帮助

## 🐛 问题反馈

如果您在使用过程中遇到问题，请：
1. 检查控制台错误信息
2. 确认输入数据的正确性
3. 联系开发者获取技术支持

## 📈 未来规划

- [ ] 增加更多中医证型支持
- [ ] 集成AI辅助诊断
- [ ] 添加用户历史记录功能
- [ ] 支持多语言界面
- [ ] 移动端App开发

## 👨‍💻 开发者信息

- **开发者**: Lowy

## 📄 许可证

本项目仅用于学术研究和教学目的。

## 🙏 致谢

感谢所有为中医数字化传承做出贡献的研究者和开发者。

---

*基于中医理论，融合现代技术，为传统医学的数字化传承贡献力量。*
